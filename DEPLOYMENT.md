# é¡¹ç›®éƒ¨ç½²æŒ‡å—

## é¡¹ç›®çŠ¶æ€æ£€æŸ¥æ¸…å•

### âœ… å·²å®Œæˆ
- [x] é¡¹ç›®ç»“æ„è®¾ç½®
- [x] FastAPIåç«¯åº”ç”¨
- [x] å‰ç«¯HTMLç•Œé¢
- [x] Dockeré…ç½®
- [x] GitHub Actions CI/CDå·¥ä½œæµ
- [x] MLflowæ¨¡å‹ç®¡ç†
- [x] DVCæ•°æ®ç‰ˆæœ¬æ§åˆ¶
- [x] æµ‹è¯•ç”¨ä¾‹ï¼ˆå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç«¯åˆ°ç«¯æµ‹è¯•ï¼‰

### ğŸ”„ éœ€è¦å®Œæˆçš„æ­¥éª¤

## 1. åˆ†æ”¯ç®¡ç†è®¾ç½®

```bash
# åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b dev
git push -u origin dev

# åˆ›å»ºstagingåˆ†æ”¯
git checkout -b staging
git push -u origin staging

# è¿”å›mainåˆ†æ”¯
git checkout main
```

## 2. é…ç½®GitHub Secrets

åœ¨GitHubä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹secretsï¼š

- `DOCKERHUB_USER`: ä½ çš„DockerHubç”¨æˆ·å
- `DOCKERHUB_TOKEN`: ä½ çš„DockerHubè®¿é—®ä»¤ç‰Œ

## 3. æµ‹è¯•æœ¬åœ°è¿è¡Œ

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨åº”ç”¨
uvicorn src.app:app --host 0.0.0.0 --port 8000

# è¿è¡Œæµ‹è¯•
pytest tests/

# è®¿é—®å‰ç«¯ç•Œé¢
# http://localhost:8000/ui
```

## 4. éƒ¨ç½²åˆ°äº‘å¹³å°

### é€‰é¡¹1: Koyeb (æ¨è)

1. è®¿é—® [koyeb.com](https://koyeb.com)
2. æ³¨å†Œå¹¶ç™»å½•
3. ç‚¹å‡» "Create App"
4. é€‰æ‹© "Docker" éƒ¨ç½²æ–¹å¼
5. è¾“å…¥Dockeré•œåƒ: `zihaobao/dev_project:latest`
6. è®¾ç½®ç«¯å£: `8000`
7. ç‚¹å‡» "Deploy"

### é€‰é¡¹2: Railway

1. è®¿é—® [railway.app](https://railway.app)
2. è¿æ¥GitHubä»“åº“
3. é€‰æ‹©é¡¹ç›®
4. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœéœ€è¦ï¼‰
5. è‡ªåŠ¨éƒ¨ç½²

### é€‰é¡¹3: AWS/GCP/Azure

æŒ‰ç…§å„å¹³å°çš„Dockerå®¹å™¨éƒ¨ç½²æŒ‡å—è¿›è¡Œé…ç½®ã€‚

## 5. æ›´æ–°ç«¯åˆ°ç«¯æµ‹è¯•

éƒ¨ç½²å®Œæˆåï¼Œæ›´æ–° `tests/test_e2e.py` ä¸­çš„URLï¼š

```python
BASE_URL = "https://your-deployed-app-url.com"
```

## 6. éªŒè¯éƒ¨ç½²

1. è®¿é—®éƒ¨ç½²çš„URL
2. æµ‹è¯• `/` ç«¯ç‚¹
3. æµ‹è¯• `/ui` å‰ç«¯ç•Œé¢
4. æµ‹è¯• `/predict` é¢„æµ‹åŠŸèƒ½
5. è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•

## 7. æœ€ç»ˆæ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰åˆ†æ”¯å·²åˆ›å»º (dev, staging, main)
- [ ] GitHub Secretså·²é…ç½®
- [ ] CI/CDå·¥ä½œæµæ­£å¸¸è¿è¡Œ
- [ ] Dockeré•œåƒæˆåŠŸæ¨é€åˆ°DockerHub
- [ ] åº”ç”¨æˆåŠŸéƒ¨ç½²åˆ°äº‘å¹³å°
- [ ] å‰ç«¯ç•Œé¢å¯æ­£å¸¸è®¿é—®
- [ ] é¢„æµ‹åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æä¾›å¯å…¬å¼€è®¿é—®çš„URL

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Dockeræ„å»ºå¤±è´¥**
   - æ£€æŸ¥Dockerfileè¯­æ³•
   - ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½åœ¨requirements.txtä¸­

2. **æ¨¡å‹åŠ è½½å¤±è´¥**
   - æ£€æŸ¥MLflowæ¨¡å‹è·¯å¾„
   - ç¡®ä¿æ¨¡å‹æ–‡ä»¶å­˜åœ¨

3. **éƒ¨ç½²å¤±è´¥**
   - æ£€æŸ¥äº‘å¹³å°é…ç½®
   - éªŒè¯ç«¯å£è®¾ç½®
   - æ£€æŸ¥ç¯å¢ƒå˜é‡

4. **æµ‹è¯•å¤±è´¥**
   - æ›´æ–°æµ‹è¯•ä¸­çš„URL
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - éªŒè¯APIå“åº”æ ¼å¼

## é¡¹ç›®URL

éƒ¨ç½²å®Œæˆåï¼Œè¯·åœ¨æ­¤å¤„æ·»åŠ ä½ çš„åº”ç”¨URLï¼š

**åº”ç”¨URL**: `https://your-app-url.com`

**å‰ç«¯ç•Œé¢**: `https://your-app-url.com/ui`

**APIæ–‡æ¡£**: `https://your-app-url.com/docs` 